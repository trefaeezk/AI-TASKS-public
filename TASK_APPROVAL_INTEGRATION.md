# ุฏูุฌ ููุฒุฉ ุงูููุงููุฉ ุนูู ุงูููุงู ูู ุงููููุฐุฌ ุงูุฃุณุงุณู - ุงูููุทู ุงููุจุณุท

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฏูุฌ ููุฒุฉ ุงูููุงููุฉ ุนูู ุงูููุงู ูู ุงููููุฐุฌ ุงูุฃุณุงุณู ูุฅูุดุงุก ุงูููุงู (`AddTaskSheet.tsx`) ูุน ููุทู ูุจุณุท ููุงุถุญ:

**ุงูููุทู ุงูุฌุฏูุฏ:**
- **ุฅุฐุง ูุนูู ุงููุณุชุฎุฏู "ุชุชุทูุจ ููุงููุฉ"** โ ุชุฑุณู ุงููููุฉ ูููุณุฆูู ููููุงููุฉ ุนูููุง
- **ุฅุฐุง ูู ููุนูู ุงูุฎูุงุฑ** โ ุชููู ูููุฉ ุดุฎุตูุฉ ูู ููุท ูุชูุธูู ุฃุดูุงุก ุฎุงุตุฉ ุจู

## ุงูุชุบููุฑุงุช ุงูููุฌุฒุฉ

### 1. ุชุนุฏูู `AddTaskSheet.tsx`

#### ุฅุถุงูุงุช ุฌุฏูุฏุฉ:
- **ุญุงูุฉ ุงูููุงููุฉ ุงููุจุณุทุฉ**: ุฅุถุงูุฉ ูุชุบูุฑุงุช ุญุงูุฉ ุจุณูุทุฉ
  ```typescript
  const [requiresApproval, setRequiresApproval] = useState(false);
  const [approvalNotes, setApprovalNotes] = useState('');
  ```

- **ููุทู ูุจุณุท ููุฃุฏูุงุฑ**: ุชุจุณูุท ุชุญุฏูุฏ ุงูุตูุงุญูุงุช
  ```typescript
  const isManager = userClaims?.isOrgOwner || userClaims?.isOrgAdmin || userClaims?.isOrgSupervisor;
  const canAssignTasks = isManager;
  ```

#### ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุจุณุทุฉ:
- **ูุณู ุฎูุงุฑุงุช ุงูููุงููุฉ**: ูุธูุฑ ููุท ูููุณุชุฎุฏููู ูู ุงููุคุณุณุงุช ูุงูุฃูุณุงู
- **ุฎุงูุฉ ุงุฎุชูุงุฑ ูุงุญุฏุฉ**: "ุชุชุทูุจ ููุงููุฉ ูู ุงููุณุฆูู ูุจู ุงูุชูููุฐ"
- **ููุงุญุธุงุช ูููุณุฆูู**: ุญูู ูุต ุงุฎุชูุงุฑู
- **ูุนูููุงุช ุฅุฑุดุงุฏูุฉ ูุงุถุญุฉ**: ุชูุถุญ ุงููุฑู ุจูู ุงูููุงู ุงูุดุฎุตูุฉ ูููุงู ุงูููุงููุฉ
- **ุฑุณุงูุฉ ุชูุถูุญูุฉ**: ุชุดุฑุญ ูููุณุชุฎุฏู ููุน ุงูููุงู ุงูุชู ููููู ุฅูุดุงุคูุง

#### ููุทู ุงูุญูุธ ุงููุจุณุท:
- **ูุณุงุฑูู ูุงุถุญูู**:
  - **ููุงู ุดุฎุตูุฉ**: ุชูุญูุธ ูุจุงุดุฑุฉ ูููุงู ูุฑุฏูุฉ (`taskContext: 'individual'`)
  - **ููุงู ุชุชุทูุจ ููุงููุฉ**: ุชูุฑุณู ูููุณุฆูู ุนุจุฑ ูุธููุฉ `createTaskWithApproval` ุฏุงุฆูุงู ุนูู ูุณุชูู ุงููุณู

### 2. ุชุญุฏูุซ ุตูุญุฉ ุงูููุงู (`page.tsx`)

#### ุฅุฒุงูุฉ ุงููุฑุงุฌุน:
- ุญุฐู ุงุณุชูุฑุงุฏ `CreateTaskWithApproval`
- ุฅุฒุงูุฉ ูุชุบูุฑ ุญุงูุฉ `isCreateApprovalTaskOpen`
- ุญุฐู ูููู `CreateTaskWithApproval` ูู JSX

### 3. ุญุฐู ุงููููุงุช ุบูุฑ ุงููุทููุจุฉ

- **ุญุฐู**: `src/components/tasks/CreateTaskWithApproval.tsx`
- **ุงูุงุญุชูุงุธ**: `src/components/tasks/PendingApprovalTasks.tsx` (ูุง ุฒุงู ูุทููุจุงู ูุนุฑุถ ุงูููุงู ุงููุนููุฉ)

## ุงูููุทู ุงููุจุณุท ุงูุฌุฏูุฏ

### ๐ฏ ุงููุจุฏุฃ ุงูุฃุณุงุณู:
**ุฎูุงุฑ ูุงุญุฏ ุจุณูุท:** "ุชุชุทูุจ ููุงููุฉ ูู ุงููุณุฆูู ูุจู ุงูุชูููุฐ"

### ๐ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู:

#### 1. ุงูููุงู ุงูุดุฎุตูุฉ (ุงูุฎูุงุฑ ุงูุงูุชุฑุงุถู):
- **ูุชู**: ุนูุฏูุง ูุง ููุนูู ุงููุณุชุฎุฏู ุฎูุงุฑ ุงูููุงููุฉ
- **ุงููุชูุฌุฉ**: ูููุฉ ุดุฎุตูุฉ (`taskContext: 'individual'`)
- **ุงูุบุฑุถ**: ุชูุธูู ุฃุดูุงุก ุฎุงุตุฉ ุจุงููุณุชุฎุฏู
- **ุงููุซุงู**: "ูุฑุงุฌุนุฉ ุงูุชูุงุฑูุฑ ุงูุดูุฑูุฉ"ุ "ุชุญุฏูุซ ุงูููุงุฑุงุช"

#### 2. ุงูููุงู ุงูุชู ุชุชุทูุจ ููุงููุฉ:
- **ูุชู**: ุนูุฏูุง ููุนูู ุงููุณุชุฎุฏู ุฎูุงุฑ ุงูููุงููุฉ
- **ุงููุชูุฌุฉ**: ุชุฑุณู ูููุณุฆูู ููููุงููุฉ ุนูููุง
- **ุงูุบุฑุถ**: ููุงู ุชุฎุต ุงููุณู ุฃู ุชุญุชุงุฌ ููุงููุฉ ุฅุฏุงุฑูุฉ
- **ุงููุซุงู**: "ุดุฑุงุก ูุนุฏุงุช ุฌุฏูุฏุฉ"ุ "ุชุบููุฑ ุฅุฌุฑุงุกุงุช ุงูุนูู"

### ๐ง ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:

#### 1. ูุงุฌูุฉ ููุญุฏุฉ ููุจุณุทุฉ
- ูููุฐุฌ ูุงุญุฏ ูุฌููุน ุฃููุงุน ุงูููุงู
- ุฎูุงุฑ ูุงุญุฏ ูุงุถุญ ููููุงููุฉ
- ุฑุณุงุฆู ุชูุถูุญูุฉ ูููููุฉ

#### 2. ููุทู ูุงุถุญ ููุจุงุดุฑ
- ูุง ุชูุฌุฏ ุชุนููุฏุงุช ูู ุงุฎุชูุงุฑ ูุณุชูู ุงูููุงููุฉ
- ุงูููุงู ุงูุดุฎุตูุฉ ุฏุงุฆูุงู ูุฑุฏูุฉ
- ููุงู ุงูููุงููุฉ ุฏุงุฆูุงู ุนูู ูุณุชูู ุงููุณู

#### 3. ุชุญุฏูุซ ุฏููุงูููู ูููุงุฌูุฉ
- ูุต ุงูุฒุฑ ูุชุบูุฑ: "ุฃุถู ุงููููุฉ" ุฃู "ุฅุฑุณุงู ููููุงููุฉ"
- ุฑุณุงุฆู ุงููุฌุงุญ ุชูุถุญ ููุน ุงููููุฉ ุงููููุดุฃุฉ
- ุฃููููุงุช ูุฎุชููุฉ ุญุณุจ ููุน ุงููููุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููููุงู ุงูุดุฎุตูุฉ:
1. ูุชุญ ูููุฐุฌ ุฅุถุงูุฉ ูููุฉ
2. ููุก ุชูุงุตูู ุงููููุฉ
3. **ุนุฏู ุชูุนูู** ุฎูุงุฑ "ุชุชุทูุจ ููุงููุฉ ูู ุงููุณุฆูู"
4. ุงูููุฑ ุนูู "ุฃุถู ุงููููุฉ"
5. ุณุชููู ุงููููุฉ ุดุฎุตูุฉ ูู ููุท

### ููููุงู ุงูุชู ุชุชุทูุจ ููุงููุฉ:
1. ูุชุญ ูููุฐุฌ ุฅุถุงูุฉ ูููุฉ
2. ููุก ุชูุงุตูู ุงููููุฉ
3. **ุชูุนูู** ุฎูุงุฑ "ุชุชุทูุจ ููุงููุฉ ูู ุงููุณุฆูู ูุจู ุงูุชูููุฐ"
4. ุฅุถุงูุฉ ููุงุญุธุงุช ูููุณุฆูู (ุงุฎุชูุงุฑู)
5. ุงูููุฑ ุนูู "ุฅุฑุณุงู ููููุงููุฉ"
6. ุณุชูุฑุณู ูููุณุฆูู ููููุงููุฉ ุนูููุง

## ุงููููุงุช ุงููุชุฃุซุฑุฉ

### ูุนุฏูุฉ:
- `src/components/AddTaskSheet.tsx`
- `src/app/(organization)/org/tasks/page.tsx`

### ูุญุฐููุฉ:
- `src/components/tasks/CreateTaskWithApproval.tsx`

### ุบูุฑ ูุชุฃุซุฑุฉ:
- `src/components/tasks/PendingApprovalTasks.tsx`
- `functions/src/tasks/approval.ts`
- ุฌููุน ูุธุงุฆู ุงูุฎุงุฏู ุงูุฎููู ููููุงููุฉ

## ุงูููุงุฆุฏ

1. **ุชุจุณูุท ุงูููุฏ**: ุชูููู ุนุฏุฏ ุงูููููุงุช ูุงููููุงุช
2. **ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**: ูุงุฌูุฉ ููุญุฏุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
3. **ุณูููุฉ ุงูุตูุงูุฉ**: ููุฏ ุฃูู ุชุนููุฏุงู ูุฃุณูู ูู ุงูุตูุงูุฉ
4. **ูุฑููุฉ ุฃูุจุฑ**: ุฅููุงููุฉ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ ุจุณูููุฉ

## ููุงุญุธุงุช ูููุฉ

- ุฌููุน ูุธุงุฆู ุงูููุงููุฉ ูู ุงูุฎุงุฏู ุงูุฎููู ุชุนูู ููุง ูู
- ูููู `PendingApprovalTasks` ูุง ุฒุงู ูุนูู ูุนุฑุถ ุงูููุงู ุงููุนููุฉ
- ูุง ุชูุฌุฏ ุชุบููุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ููุงุนุฏ ุงูุฃูุงู
- ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูุญููุธ
